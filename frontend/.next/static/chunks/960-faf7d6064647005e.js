"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{960:function(e,t,s){s.d(t,{F:function(){return TopRightWallet},w:function(){return WalletConnectButton}});var r=s(5893),n=s(7294),a=s(4306),i=s(3495);let LegalDisclaimer=e=>{let{isOpen:t,onAccept:s,onDecline:n}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-primary border border-accent rounded-lg max-w-4xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-accent mb-4 text-center",children:"Guess5.io – Terms of Use and Disclaimers"}),(0,r.jsxs)("p",{className:"text-xs text-white/60 text-center mb-4",children:[(0,r.jsx)("strong",{children:"Last Updated:"})," October 28, 2025"]}),(0,r.jsxs)("div",{className:"text-sm text-white/90 space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[(0,r.jsxs)("div",{className:"bg-secondary bg-opacity-20 rounded p-3",children:[(0,r.jsx)("p",{className:"text-white/80",children:'By connecting your wallet, clicking "I Accept," or otherwise using Guess5.io ("Guess5," "we," "our," or "us"), you acknowledge that you have read, understood, and agree to be bound by these Terms of Use and Disclaimers (the "Terms").'}),(0,r.jsx)("p",{className:"text-white/80 mt-2",children:(0,r.jsx)("strong",{children:'Acceptance of these Terms requires affirmative consent through a clear "I Accept" action prior to gameplay or wallet connection.'})}),(0,r.jsx)("p",{className:"text-white/80 mt-2",children:"If you do not agree, do not connect your wallet, access, or use Guess5."})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"1. Non-Custodial Service & User Control"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"1.1 Non-Custodial Platform."})," Guess5 is a fully non-custodial platform built on the Solana blockchain. All match funds are held in a 2-of-3 multisignature vault (via Squads Protocol), in which you, your opponent, and the system are co-signers."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"1.2 No Custody or Access."})," Guess5 never has unilateral control or custody of user funds and cannot transfer, freeze, seize, or move funds without your cryptographic signature."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"1.3 User-Controlled Payouts."})," Match payouts require your active signature. The system cannot process any payout without your participation."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"1.4 Third-Party Smart Contract Infrastructure."})," Guess5 relies on smart contracts and infrastructure provided by third parties, including Squads Protocol. Guess5 does not control or guarantee the operation or security of those systems."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"1.5 Blockchain Immutability."})," Transactions on Solana are public, immutable, and irreversible once confirmed."]})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"2. Legal Compliance & Eligibility"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"2.1 Age Restriction."})," You must be at least 18 years old or the age of majority in your jurisdiction (whichever is greater)."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"2.2 Legal Responsibility."})," You are solely responsible for ensuring that your participation complies with all applicable gaming, gambling, financial, and digital asset laws in your jurisdiction."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"2.3 Skill-Based Game."}),' Guess5 is marketed and operated as a skill-based game of knowledge and logic, not chance. Legal interpretations of "skill" may vary by jurisdiction.']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"2.4 Prohibited Jurisdictions."})," Guess5 is not available in jurisdictions where skill-based, staked, or online gaming for money is prohibited. Use of VPNs, proxies, or location-masking to evade restrictions is strictly prohibited."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"2.5 Sanctions & OFAC Compliance."})," Guess5 does not permit access or use by individuals or entities:"]}),(0,r.jsx)("li",{className:"pl-4",children:"• Located in, or ordinarily resident of, any jurisdiction subject to U.S. sanctions (including Cuba, Iran, North Korea, Syria, or the Crimea, Donetsk, or Luhansk regions of Ukraine);"}),(0,r.jsx)("li",{className:"pl-4",children:"• Listed on any OFAC, EU, UN, or similar sanctions list."}),(0,r.jsx)("li",{children:"By using Guess5, you represent that you are not subject to such restrictions."})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"3. Financial Risks & Digital Asset Disclaimers"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"3.1 Risk of Loss."})," You acknowledge that participation in any match involves risk of losing 100% of your staked funds."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"3.2 Volatility."})," The value of SOL and other digital assets is highly volatile. Guess5 has no responsibility for market fluctuations."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"3.3 Irreversible Transactions."})," ALL TRANSACTIONS ARE FINAL — NO REFUNDS OR REVERSALS."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"3.4 Network Fees."})," You are responsible for Solana network fees (gas) associated with your transactions."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"3.5 Taxes."})," You are solely responsible for determining and paying all taxes that apply to your activities, winnings, or losses."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"3.6 No Financial Advice."})," Guess5 provides no financial, investment, or tax advice."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"3.7 Regulatory Classification."})," Guess5 is not a bank, money transmitter, broker-dealer, or financial institution. All transactions occur directly between users via decentralized smart contracts."]})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"4. Wallet Security & User Responsibilities"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"4.1 Your Keys, Your Responsibility."})," You are solely responsible for safeguarding your private keys, seed phrases, and wallet credentials."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"4.2 No Key Recovery."})," Guess5 cannot recover lost, stolen, or forgotten wallet access."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"4.3 Verify Transactions."})," Always confirm wallet addresses and transaction details before signing."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"4.4 Phishing & Device Security."})," Guess5 will never request your private keys or seed phrases. Use secure, trusted devices and wallet software only."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"4.5 User Negligence."})," Losses arising from compromised wallets, phishing, malware, or device breaches are solely your responsibility."]})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"5. Service Disclaimers"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:'5.1 "As Is" Service.'}),' Guess5 is provided "AS IS" and "AS AVAILABLE", without warranties of any kind—express, implied, or statutory—including but not limited to merchantability, fitness for a particular purpose, and non-infringement.']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"5.2 No Guarantee of Uptime."})," Guess5 does not warrant uninterrupted, error-free, or secure operation."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"5.3 Third-Party & Blockchain Dependencies."})," We are not liable for disruptions, failures, or bugs caused by Solana, Squads Protocol, wallet software, or any third-party provider."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"5.4 Match Results."})," All outcomes are final, automated, and non-reviewable. No manual intervention or reversal will occur."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"5.5 Modification or Suspension."})," We may modify, suspend, or discontinue Guess5 at any time without prior notice or liability."]})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"6. Limitation of Liability"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"6.1 Maximum Liability Cap."})," To the maximum extent permitted by law, the total aggregate liability of Guess5 and its affiliates shall not exceed the greater of USD $100 or the total amount of SOL you staked in the match giving rise to the claim (capped at USD $250)."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"6.2 Exclusion of Damages."})," Guess5 shall not be liable for any indirect, incidental, special, consequential, exemplary, or punitive damages, including loss of data, profits, or funds."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"6.3 No Responsibility for Third-Party Failures."})," Guess5 disclaims all liability for errors or losses arising from:"]}),(0,r.jsx)("li",{className:"pl-4",children:"• Squads Protocol or Solana network failures;"}),(0,r.jsx)("li",{className:"pl-4",children:"• Wallet vulnerabilities;"}),(0,r.jsx)("li",{className:"pl-4",children:"• Smart contract exploits;"}),(0,r.jsx)("li",{className:"pl-4",children:"• Network congestion or downtime;"}),(0,r.jsx)("li",{className:"pl-4",children:"• User error or misunderstanding."})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"7. Indemnification"}),(0,r.jsx)("p",{className:"text-white/80 pl-4",children:"You agree to indemnify, defend, and hold harmless Guess5, its affiliates, officers, contractors, and agents from and against any claims, damages, liabilities, or expenses (including attorneys' fees) arising out of or related to:"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-8",children:[(0,r.jsx)("li",{children:"(a) your use or misuse of Guess5;"}),(0,r.jsx)("li",{children:"(b) violation of these Terms or any applicable laws;"}),(0,r.jsx)("li",{children:"(c) disputes between you and other users;"}),(0,r.jsx)("li",{children:"(d) tax obligations from your activities; or"}),(0,r.jsx)("li",{children:"(e) infringement of third-party rights."})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"8. Prohibited Conduct"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsx)("li",{children:"• Use of bots, scripts, automation, or AI to play or influence outcomes;"}),(0,r.jsx)("li",{children:"• Exploitation of bugs, vulnerabilities, or match logic;"}),(0,r.jsx)("li",{children:"• Collusion or coordinated manipulation with other players;"}),(0,r.jsx)("li",{children:"• Creation of multiple or Sybil accounts for advantage."})]}),(0,r.jsx)("p",{className:"text-white/80 pl-4 mt-2",children:"Violations may result in immediate termination, forfeiture of staked funds, and referral to authorities."})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"9. Privacy, Cookies & Data Use"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"9.1 Blockchain Transparency."})," Transactions and wallet addresses are public and permanently recorded on the Solana blockchain."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"9.2 Data Collection."})," We may collect limited technical data (IP, browser type, device, match performance, and behavioral analytics) to ensure platform integrity and compliance."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"9.3 Cookies."})," Guess5 uses cookies and analytics tools for functionality, security, and usage analytics. Continued use constitutes consent to such use."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"9.4 Third-Party Services."})," We rely on third-party infrastructure (e.g., Vercel, Render, Redis, PostgreSQL) subject to their own privacy policies."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"9.5 No Private Key Access."})," Guess5 never collects or stores private keys or seed phrases."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"9.6 Privacy Rights."})," Depending on your jurisdiction, you may have rights to access, correct, or delete personal data. Requests may be directed to privacy@guess5.io. Guess5 complies with applicable data-protection laws to the extent required."]})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"10. Dispute Resolution & Arbitration"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"10.1 Mutual Binding Arbitration."})," You and Guess5 mutually agree that any dispute or claim arising out of or relating to these Terms shall be resolved exclusively through binding arbitration administered by the American Arbitration Association (AAA) under its Commercial Arbitration Rules."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"10.2 Location & Governing Law."})," Arbitration shall take place in Wilmington, Delaware, USA, or remotely at the arbitrator's discretion, under Delaware law, excluding conflict-of-law principles."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"10.3 Individual Basis."})," All disputes must be brought individually. No class actions or representative proceedings are permitted."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"10.4 Jury Waiver."})," You expressly waive any right to a jury trial."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"10.5 Opt-Out."})," You may opt out of arbitration within 30 days of first acceptance by notifying us in writing at legal@guess5.io."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"10.6 Costs."})," Each party bears its own arbitration costs and fees unless otherwise determined by the arbitrator."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"10.7 Severability."})," If any provision is unenforceable, the remainder shall remain in effect."]})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"11. Intellectual Property"}),(0,r.jsx)("p",{className:"text-white/80 pl-4",children:"All software, content, logos, and materials on Guess5 are owned by Guess5 or its licensors. You are granted a limited, revocable, non-exclusive, non-transferable license to use Guess5 for personal, non-commercial purposes only. You may not copy, modify, reverse engineer, or redistribute the platform or its components."})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"12. Force Majeure"}),(0,r.jsx)("p",{className:"text-white/80 pl-4",children:"Guess5 shall not be liable for any failure or delay caused by events beyond reasonable control, including but not limited to acts of God, natural disasters, war, terrorism, pandemics, regulatory actions, blockchain network outages, failures of underlying blockchain consensus mechanisms, cyberattacks, or third-party infrastructure failures."})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"13. Modifications & Entire Agreement"}),(0,r.jsx)("p",{className:"text-white/80 pl-4",children:"We may update these Terms at any time by posting a revised version at Guess5.io. Continued use constitutes acceptance. These Terms represent the entire agreement between you and Guess5 and supersede any prior understandings."}),(0,r.jsx)("p",{className:"text-white/80 pl-4 mt-2",children:"No waiver of any provision is deemed a waiver of any other."})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"text-accent font-bold mb-2",children:"14. Referral Program Terms"}),(0,r.jsxs)("ul",{className:"list-none space-y-1 text-white/80 pl-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.1 Independent Participants."}),' The Guess5 referral program ("Referral Program") allows eligible users ("Referrers") to earn referral rewards based on a percentage of net profits generated by players they refer. Referrers participate as independent contractors, not employees, partners, agents, franchisees, or representatives of Guess5. Nothing in these Terms creates any employment, partnership, fiduciary, or agency relationship. Referrers have no authority to bind Guess5 in any manner.']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.2 Eligibility & Enrollment."})," Participation is limited to users in good standing with verified wallets. Guess5 may reject, suspend, or terminate any participant at its discretion for any reason, including suspected abuse or fraud."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.3 Referral Rewards."}),' Referral rewards are calculated as a percentage of net profit earned from matches played by referred users, as determined solely by Guess5. Guess5\'s calculation of "net profit" and eligibility is final and not subject to audit or appeal.']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.4 Payment Schedule."})," Referral rewards accrue and are payable once a minimum balance of USD $20 (or equivalent) is reached. Payments are made weekly on Sundays at 1:00 p.m. Eastern Time, subject to network availability and Guess5's operational discretion."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.5 Non-Guarantee of Earnings."})," Participation in the Referral Program does not guarantee any earnings. Guess5 may modify, suspend, or discontinue the Referral Program or its payout formula at any time without prior notice."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.6 Taxes."})," Referrers are solely responsible for reporting and paying all applicable taxes on referral rewards. Guess5 may issue tax forms or disclosures as required by law."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.7 No Representations or Endorsements."})," Referrers may not make misleading statements or represent themselves as acting on behalf of Guess5. Any marketing must comply with applicable laws, including restrictions on gaming promotion, anti-spam, and advertising."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.8 Fraud, Abuse & Forfeiture."})," Guess5 reserves the right to withhold or claw back referral rewards in cases of fraud, self-referrals, collusion, or manipulation."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"14.9 Termination of Participation."})," Guess5 may terminate or limit participation in the Referral Program at any time without liability. Upon termination, any unpaid rewards below the minimum threshold are forfeited."]})]})]}),(0,r.jsxs)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 rounded p-3",children:[(0,r.jsx)("h4",{className:"text-red-400 font-bold mb-2",children:"⚠️ Acceptance & Acknowledgment"}),(0,r.jsx)("p",{className:"text-white/90 mb-2",children:'By clicking "I Accept" or connecting your wallet, you confirm that:'}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-white/90 space-y-1",children:[(0,r.jsx)("li",{children:"You have read and understood these Terms, including the Referral Program Terms (if applicable);"}),(0,r.jsx)("li",{children:"You are of legal age and authority to agree; and"}),(0,r.jsx)("li",{children:"You accept and agree to be bound by all provisions above."})]}),(0,r.jsx)("p",{className:"text-white/90 mt-2",children:"If you do not agree, do not use Guess5."})]}),(0,r.jsxs)("div",{className:"text-center text-xs text-white/50 mt-4 border-t border-accent/30 pt-3",children:[(0,r.jsx)("p",{children:"\xa9 2025 Guess5.io. All rights reserved."}),(0,r.jsxs)("p",{className:"mt-1",children:[(0,r.jsx)("strong",{children:"Last Updated:"})," October 28, 2025"]})]})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,r.jsx)("button",{onClick:n,className:"px-6 py-3 bg-gray-600 text-white rounded-lg font-bold hover:bg-gray-700 transition-colors",children:"Decline"}),(0,r.jsx)("button",{onClick:s,className:"px-6 py-3 bg-accent text-primary rounded-lg font-bold hover:bg-yellow-400 transition-colors",children:"I Accept & Continue"})]})]})}):null};var o=s(4026);let useWalletBalanceSSE=e=>{let[t,s]=(0,n.useState)(null),[r,a]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null),c=(0,n.useRef)(null);return(0,n.useRef)(null),(0,n.useRef)(0),(0,n.useEffect)(()=>{if(!e){s(null),a(!1),l(null);return}console.log("\uD83D\uDD0D SSE Debug (disabled):",{API_URL:o.config.API_URL,walletAddress:e,note:"SSE disabled - using manual balance fetching instead"}),a(!1)},[e]),(0,n.useEffect)(()=>()=>{c.current&&c.current.close()},[]),{balance:t,isConnected:r,error:i,refreshBalance:async()=>{if(e)try{let r=await fetch("".concat(o.config.API_URL,"/api/match/wallet-balance/").concat(e));if(r.ok){var t;let e=null===(t=r.body)||void 0===t?void 0:t.getReader();if(e){let{value:t}=await e.read(),r=new TextDecoder().decode(t),n=r.split("\n");for(let e of n)if(e.startsWith("data: ")){let t=JSON.parse(e.slice(6));if("balance_update"===t.type&&void 0!==t.balance){s(t.balance);break}}e.releaseLock()}}}catch(e){console.error("❌ Manual balance refresh failed:",e),l("Failed to refresh balance")}}}};var l=s(1910);let WalletConnectButton=()=>{let{publicKey:e,connect:t,disconnect:s,connected:o}=(0,a.O)(),{setVisible:l}=(0,i.h)(),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),{balance:m,isConnected:p,error:g,refreshBalance:x}=useWalletBalanceSSE((null==e?void 0:e.toString())||null),handleConnect=async()=>{h(!0)},handleLegalAccept=async()=>{if(h(!1),c){console.log("Already processing wallet connection, ignoring...");return}console.log("Attempting to connect wallet..."),d(!0);try{console.log("Opening wallet selection modal..."),l(!0)}finally{setTimeout(()=>{d(!1)},500)}};return(0,r.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[(0,r.jsx)("button",{className:"px-8 py-3 rounded-lg font-bold transition-colors shadow ".concat(o?"bg-green-600 text-white hover:bg-green-700":"bg-accent text-primary hover:bg-yellow-400"," ").concat(c?"opacity-50 cursor-not-allowed":""),onClick:o?s:handleConnect,disabled:c,children:o?"Disconnect (".concat(null==e?void 0:e.toString().slice(0,4),"...").concat(null==e?void 0:e.toString().slice(-4),")"):c?"Processing...":"Connect Wallet"}),(0,r.jsx)(LegalDisclaimer,{isOpen:u,onAccept:handleLegalAccept,onDecline:()=>{h(!1)}})]})},TopRightWallet=()=>{let{publicKey:e,disconnect:t,connected:s}=(0,a.O)(),{setVisible:o}=(0,i.h)(),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[g,x]=(0,n.useState)(!1),[y,f]=(0,n.useState)(""),[b,j]=(0,n.useState)(null),[w,v]=(0,n.useState)(!1),[N,S]=(0,n.useState)(!1),{balance:A,isConnected:k,error:R,refreshBalance:T}=useWalletBalanceSSE((null==e?void 0:e.toString())||null);(0,n.useEffect)(()=>{s&&e?loadUsername():p(null)},[s,e]);let loadUsername=async()=>{if(e)try{let t=await (0,l.Ms)(e.toString());p(t.username||null)}catch(e){console.error("Failed to load username:",e)}},handleUsernameChange=async e=>{f(e),j(null);let t=/^[a-zA-Z0-9_]{3,20}$/;if(e&&!t.test(e)){j("3-20 chars, letters/numbers/underscores only");return}if(e&&t.test(e)&&e.toLowerCase()!==(null==m?void 0:m.toLowerCase())){v(!0);try{let t=await (0,l.EJ)(e);t.available||j("Username taken")}catch(e){console.error("Failed to check username:",e)}finally{v(!1)}}},handleSaveUsername=async()=>{if(e&&y.trim()){if(!/^[a-zA-Z0-9_]{3,20}$/.test(y)){j("Invalid format");return}S(!0),j(null);try{await (0,l.b6)(e.toString(),y.trim()),p(y.trim().toLowerCase()),x(!1),f("")}catch(e){j(e.message||"Failed to save username")}finally{S(!1)}}},handleConnect=async()=>{h(!0)},handleLegalAccept=async()=>{if(h(!1),!c){d(!0);try{o(!0)}finally{setTimeout(()=>{d(!1)},500)}}},handleLegalDecline=()=>{h(!1)};return s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4 z-50",children:(0,r.jsx)("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 shadow-lg transition-all duration-200 hover:border-white/20 hover:bg-white/8",children:g?(0,r.jsxs)("div",{className:"p-3 space-y-2.5 min-w-[280px]",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",value:y,onChange:e=>handleUsernameChange(e.target.value),placeholder:"Enter username",className:"w-full px-3 py-2 text-sm rounded-lg bg-white/5 border border-accent/40 text-white placeholder-white/40 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/20 transition-all duration-200",maxLength:20,disabled:N}),w&&(0,r.jsx)("div",{className:"absolute right-2.5 top-1/2 -translate-y-1/2",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-3.5 w-3.5 border-2 border-accent/30 border-t-accent"})})]}),b&&(0,r.jsx)("div",{className:"px-2.5 py-1.5 text-red-400 text-xs font-medium bg-red-500/10 border border-red-500/30 rounded-lg",children:b}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:handleSaveUsername,disabled:N||!!b||!y.trim(),className:"flex-1 px-3 py-1.5 text-xs font-bold bg-accent text-primary rounded-lg hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:N?"Saving...":"Save"}),(0,r.jsx)("button",{onClick:()=>{x(!1),f(""),j(null)},className:"px-3 py-1.5 text-xs font-medium bg-white/5 text-white rounded-lg hover:bg-white/10 transition-all duration-200",children:"Cancel"})]})]}):(0,r.jsxs)("div",{className:"flex items-center gap-2.5 px-3 py-2.5",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:m?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("button",{onClick:()=>{x(!0),f(m),j(null)},className:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 transition-all duration-200 group",title:"Edit username",children:[(0,r.jsx)("span",{className:"text-accent text-xs font-bold",children:"@"}),(0,r.jsx)("span",{className:"text-white text-xs font-semibold tracking-wide",children:m}),(0,r.jsx)("svg",{className:"w-3 h-3 text-white/50 group-hover:text-white/80 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})]})}):(0,r.jsxs)("button",{onClick:()=>{x(!0),f(""),j(null)},className:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-purple-500/15 hover:bg-purple-500/25 border border-purple-400/30 hover:border-purple-400/50 transition-all duration-200",children:[(0,r.jsx)("svg",{className:"w-3 h-3 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsx)("span",{className:"text-purple-200 text-xs font-medium",children:"Set Username"})]})}),(0,r.jsx)("div",{className:"h-5 w-px bg-white/20"}),(0,r.jsx)("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-accent/10 border border-accent/20",children:(0,r.jsx)("div",{className:"text-accent text-xs font-black tracking-tight",children:null!==A?(0,r.jsxs)("span",{className:"flex items-baseline gap-0.5",children:[(0,r.jsx)("span",{children:A.toFixed(4)}),(0,r.jsx)("span",{className:"text-[10px] font-bold text-accent/70",children:"SOL"})]}):(0,r.jsx)("span",{className:"text-white/40 text-[10px]",children:"..."})})}),(0,r.jsx)("div",{className:"h-5 w-px bg-white/20"}),(0,r.jsx)("button",{className:"p-1.5 rounded-md bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 hover:border-red-500/40 transition-all duration-200 group",onClick:t,title:"Disconnect wallet",children:(0,r.jsx)("svg",{className:"w-3.5 h-3.5 text-red-400 group-hover:text-red-300 group-hover:rotate-90 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),(0,r.jsx)(LegalDisclaimer,{isOpen:u,onAccept:handleLegalAccept,onDecline:handleLegalDecline})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4",children:(0,r.jsx)("button",{className:"px-4 py-2.5 sm:px-5 sm:py-3 rounded-lg font-bold transition-all duration-200 shadow bg-accent text-primary hover:bg-yellow-400 hover:shadow-lg transform hover:scale-105 active:scale-95 min-h-[44px] flex items-center justify-center text-sm sm:text-base ".concat(c?"opacity-50 cursor-not-allowed":""),onClick:handleConnect,disabled:c,children:c?"Processing...":"Connect Wallet"})}),(0,r.jsx)(LegalDisclaimer,{isOpen:u,onAccept:handleLegalAccept,onDecline:handleLegalDecline})]})}},4026:function(e,t,s){s.d(t,{config:function(){return n}});var r=s(4155);let n={API_URL:r.env.NEXT_PUBLIC_API_URL||"https://guess5.onrender.com",SOLANA_NETWORK:r.env.NEXT_PUBLIC_SOLANA_NETWORK||"https://api.devnet.solana.com",SMART_CONTRACT_PROGRAM_ID:r.env.NEXT_PUBLIC_SMART_CONTRACT_PROGRAM_ID||"ASLA3yCccjSoMAxoYBciM5vqdCZKcedd2QkbVWtjQEL4",RESULTS_ATTESTOR_PUBKEY:r.env.NEXT_PUBLIC_RESULTS_ATTESTOR_PUBKEY||"2Q9WZbjgssyuNA1t5WLHL4SWdCiNAQCTM5FbWtGQtvjt",FEE_WALLET_ADDRESS:r.env.NEXT_PUBLIC_FEE_WALLET_ADDRESS||"2Q9WZbjgssyuNA1t5WLHL4SWdCiNAQCTM5FbWtGQtvjt"};console.log("\uD83D\uDD0D Environment Config:",{API_URL:n.API_URL,SOLANA_NETWORK:n.SOLANA_NETWORK,SMART_CONTRACT_PROGRAM_ID:n.SMART_CONTRACT_PROGRAM_ID,RESULTS_ATTESTOR_PUBKEY:n.RESULTS_ATTESTOR_PUBKEY,FEE_WALLET_ADDRESS:n.FEE_WALLET_ADDRESS}),t.Z=n},1910:function(e,t,s){s.d(t,{e7:function(){return cancelMatch},$u:function(){return checkPlayerMatch},EJ:function(){return checkUsernameAvailability},L$:function(){return getMatchStatus},Ms:function(){return getUsername},B2:function(){return requestMatch},b6:function(){return setUsername},EX:function(){return submitGuess},u_:function(){return submitResult}}),(n=a||(a={})).NETWORK="network",n.VALIDATION="validation",n.WALLET="wallet",n.GAME="game",n.UNKNOWN="unknown";let ErrorHandler=class ErrorHandler{static getInstance(){return ErrorHandler.instance||(ErrorHandler.instance=new ErrorHandler),ErrorHandler.instance}handleApiError(e,t){if(console.error("API Error:",{error:e,context:t}),e&&"object"==typeof e&&"response"in e){let t=e.response.status,s=e.response.data;return 429===t?{type:"network",message:"Too many requests. Please wait a moment and try again.",details:s,retryable:!0}:500===t?{type:"network",message:"Server error. Please try again later.",details:s,retryable:!0}:400===t?{type:"validation",message:s.error||"Invalid request data.",details:s}:{type:"network",message:"Request failed (".concat(t,"): ").concat(s.error||"Unknown error"),details:s}}if(e&&"object"==typeof e&&"request"in e)return{type:"network",message:"Network error. Please check your connection and try again.",details:e.message,retryable:!0};let s=e instanceof Error?e.message:String(e);return{type:"unknown",message:"An unexpected error occurred.",details:s}}handleWalletError(e){if(console.error("Wallet Error:",e),e&&"object"==typeof e&&"code"in e&&4001===e.code)return{type:"wallet",message:"Transaction was rejected by user.",details:e};if(e&&"object"==typeof e&&"message"in e){var t,s;if(null===(t=e.message)||void 0===t?void 0:t.includes("insufficient funds"))return{type:"wallet",message:"Insufficient SOL balance. Please add more SOL to your wallet.",details:e};if(null===(s=e.message)||void 0===s?void 0:s.includes("User rejected"))return{type:"wallet",message:"Transaction was cancelled.",details:e}}return{type:"wallet",message:"Wallet error. Please try again.",details:e,retryable:!0}}handleGameError(e){console.error("Game Error:",e);let t=e instanceof Error?e.message:String(e);return t.includes("match not found")?{type:"game",message:"Game not found. Please start a new match.",details:e}:t.includes("already in progress")?{type:"game",message:"Game is already in progress.",details:e}:{type:"game",message:"Game error. Please try again.",details:e,retryable:!0}}showError(e){let t=Date.now();if(t-this.lastErrorTime<2e3){if(this.errorCount++,this.errorCount>3)return}else this.errorCount=0;this.lastErrorTime=t,console.error("User Error:",e),alert("".concat(e.message,"\n\nType: ").concat(e.type,"\n").concat(e.details?"Details: ".concat(JSON.stringify(e.details)):""))}async retryWithBackoff(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let n=0;n<=s;n++)try{return await e()}catch(a){if(t=a,n===s)throw a;let e=r*Math.pow(2,n);console.log("Retry attempt ".concat(n+1,"/").concat(s," in ").concat(e,"ms")),await new Promise(t=>setTimeout(t,e))}throw t}constructor(){this.errorCount=0,this.lastErrorTime=0}};let r=ErrorHandler.getInstance(),errorHandler_apiCallWithRetry=async(e,t)=>{try{return await r.retryWithBackoff(e)}catch(s){let e=r.handleApiError(s,t);throw r.showError(e),e}};var n,a,i=s(4026);let o=i.config.API_URL,apiRequest=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(o).concat(e),r={"Content-Type":"application/json",...t.headers},n={...t,headers:r};try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e4),r=await fetch(s,{...n,signal:e.signal});if(clearTimeout(t),!r.ok){let e=await r.json().catch(()=>({error:"Unknown error"}));throw Error(e.error||"HTTP error! status: ".concat(r.status))}return await r.json()}catch(t){if(console.error("❌ API request failed for ".concat(e,":"),t),t instanceof Error&&"AbortError"===t.name)throw console.error("⏰ Request timed out after 30 seconds"),Error("Request timed out - please try again");throw t}},requestMatch=async(e,t,s)=>errorHandler_apiCallWithRetry(()=>apiRequest("/api/match/request-match",{method:"POST",body:JSON.stringify({wallet:e,entryFee:t,referralCode:s})})),submitResult=async(e,t,s)=>errorHandler_apiCallWithRetry(()=>apiRequest("/api/match/submit-result",{method:"POST",body:JSON.stringify({matchId:e,wallet:t,result:s})})),submitGuess=async(e,t,s)=>apiRequest("/api/match/submit-guess",{method:"POST",body:JSON.stringify({matchId:e,wallet:t,guess:s})}),getMatchStatus=async e=>apiRequest("/api/match/status/".concat(e),{method:"GET"}),cancelMatch=async(e,t,s)=>errorHandler_apiCallWithRetry(()=>apiRequest("/api/match/cancel",{method:"POST",body:JSON.stringify({wallet:e,matchId:t,reason:s})})),checkPlayerMatch=async e=>apiRequest("/api/match/check-player-match/".concat(e),{method:"GET"}),setUsername=async(e,t)=>apiRequest("/api/user/username",{method:"POST",body:JSON.stringify({wallet:e,username:t})}),getUsername=async e=>apiRequest("/api/user/username?wallet=".concat(e),{method:"GET"}),checkUsernameAvailability=async e=>apiRequest("/api/user/username/check?username=".concat(encodeURIComponent(e)),{method:"GET"})}}]);